{% extends 'base.html.twig' %}

{% block site_id %}pacifica{% endblock %}
{% block title %}search{% endblock %}
{% block page_header %}Main Search Page{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/loading_animation.css') }}" />
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/namespace.js') }}"></script>
    <script src="{{ asset('js/utilities.js') }}"></script>
    <script src="{{ asset('js/dom_manager.js') }}"></script>
    <script src="{{ asset('js/file_tree_manager.js') }}"></script>
    <script src="{{ asset('js/filter.js') }}"></script>
    <script src="{{ asset('js/filter_manager.js') }}"></script>
    <script src="{{ asset('js/pacifica_search.js') }}"></script>
{% endblock %}
{% block body %}
    <section id="text_search_section">
        <fieldset class="text_search_box">
            <form onsubmit="PacificaSearch.FilterManager.updateAvailableFilterOptions(); return false;" class="buttons">
                <input title="Text Search" id="text_search"/>
                <button id="text_search_btn">Search</button>
            </form>
        </fieldset>
        <span id="transaction_count"><!-- This element's contents are generated in JavaScript --></span>
    </section>

    <section id="search_filter" class="search_results_block" style="display:none">
        {% for machine_name, type_display_name in filter_types %}
            <fieldset data-type="{{ machine_name }}" style="display:hidden">
                <legend>{{ type_display_name }}</legend>
                <div class="current_filter_options">
                    <!-- This element's contents are generated in JavaScript -->
                </div>
                <div class="option_container">
                    <!-- This element's contents are generated in JavaScript -->
                </div>
                <div class="page_control_block">
                    <div class="next_prev_control">
                        <a href="javascript:void(0);" class="paging_button prev_page">prev</a>
                        <span class="page_number">1</span>
                        <a href="javascript:void(0);" class="paging_button next_page">next</a>
                    </div>
                </div>
            </fieldset>
        {% endfor %}
    </section>

    <section id="files" class="search_results_block file_results themed" style="display:none">
        <fieldset>
            <legend>Files</legend>
            <div class="results_instructions">
                Select some categories from the column to the left to load results
            </div>
            <div id="results_filetree"></div>
            <div id="results_pager" class="page_control_block" style="display: none;">
                <div class="next_prev_control">
                    <a href="javascript:void(0);" class="paging_button prev_page">prev</a>
                    <span class="page_number">1</span>
                    <a href="javascript:void(0);" class="paging_button next_page">next</a>
                </div>
            </div>
        </fieldset>
        <!-- This element's remaining contents are generated in JavaScript -->
    </section>
    <div id="file_template" style="display:none">
        <p>
            <span class="file_name" data-is-file-name-container></span>
        </p>
    </div>
{% endblock %}
